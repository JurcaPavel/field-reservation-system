schema {
  query: Query
  mutation: Mutation
}

type Query {
  sportsField(id: ID!): SportsFieldResult!
  sportsFields(
    filters: SportsFieldFiltersInput,
    pagination: PaginationInput!,
    sortBy: SportsFieldSortByInput
  ): SportsFieldsWrapper!
}

type Mutation {
  createSportsField(input: CreateSportsFieldInput!): CreateSportsFieldResult!
  editSportsField(id: ID!, input: EditSportsFieldInput!): EditSportsFieldResult!
}

#
# Sports Field
#

type SportsField {
  id: ID!
  name: String!
  sportTypes: [SportType!]!
  coordinates: Coordinates!
  city: String!
  street: String
  zipCode: String!
  country: Country!
  description: String
}

type Country {
  code: String!
  name: String!
}

input CreateSportsFieldInput {
  name: String!
  coordinates: CoordinatesInput!
  city: String!
  street: String!
  zipCode: String!
  countryCode: String!
  sportTypes: [SportType!]!
  description: String
}

input EditSportsFieldInput {
  name: String!
  coordinates: CoordinatesInput!
  city: String!
  street: String!
  zipCode: String!
  countryCode: String!
}

input SportsFieldFiltersInput {
  city: String
  countryCode: String
  sportTypes: [SportType!]
}

input SportsFieldSortByInput {
  field: SportsFieldSortByField!
  direction: SortByDirection!
}

enum SportsFieldSortByField {
  NAME
  SPORT_TYPE
}

union SportsFieldResult = SportsField | NotFoundError

type SportsFieldsWrapper {
  sportsFields: [SportsField!]!
  paginationInfo: PaginationInfo!
}

union CreateSportsFieldResult = SportsField | NotManagerOrAdminError

union EditSportsFieldResult = SportsField | NotFoundError | NotResourceOwnerError

#
# Location
#

type Coordinates {
  latitude: Float!
  longitude: Float!
}

input CoordinatesInput {
  latitude: Float!
  longitude: Float!
}

#
# Common Types
#

enum SportType {
  BASKETBALL
  BEACH_VOLLEYBALL
  SOCCER
  TENNIS
}

input PaginationInput {
  pageNumber: Int!
  pageSize: Int!
}

type PaginationInfo {
  itemsTotalCount: Int!
}

enum SortByDirection {
  ASC
  DESC
}

type NotFoundError {
  message: String!
}

type NotManagerOrAdminError {
  message: String!
}

type NotResourceOwnerError {
  message: String!
}
